{
  "id": "template-monasca",
  "description": "Logging and Monitoring Service for OpenStack",
  "attributes": {
    "monasca": {
      "metric_agent": {
        "keystone": {
          "service_user": "monasca-agent",
          "service_password": "",
          "service_tenant": "monasca",
          "service_role": "monasca-agent"
        },
        "insecure": true,
        "system_only": false,
        "overwrite_config": false,
        "ca_file": "",
        "log_dir": "/var/log/monasca-agent/",
        "log_level": "INFO",
        "statsd_port": 8125,
        "check_frequency": 15,
        "num_collector_threads": 1,
        "pool_full_max_retries": 5,
        "plugin_collect_time_warn": 6,
        "max_buffer_size": 1000,
        "max_measurement_buffer_size": -1,
        "backlog_send_rate": 1000,
        "amplifier": 0
      },
      "log_agent": {
        "file_path": "/var/log/**/*.log",
        "multiline_pattern": "^\s",
        "keystone": {
          "service_user": "monasca-log-agent",
          "service_password": "",
          "service_tenant": "monasca",
          "service_role": "monasca-agent"
        }
      },
      "api": {
        "bind_host": "*",
        "bind_port": 8070,
        "processes": 3,
        "ssl": false,
        "threads": 10
      },
      "log_api": {
        "port": 5607,
        "ssl": false
      },
      "master": {
        "influxdb_mon_api_password": "",
        "influxdb_mon_persister_password": "",
        "database_notification_password": "",
        "database_monapi_password": "",
        "database_thresh_password": "",
        "database_logapi_password": "",
        "keystone_monasca_operator_password": "",
        "keystone_monasca_agent_password": "",
        "keystone_admin_agent_password": "",
        "database_grafana_password": ""
      },
      "db": {
        "database": "monasca",
        "password": "",
        "user": "monasca"
      },
      "debug": false,
      "group": "monasca",
      "user": "monasca",
      "database_instance": "none",
      "keystone_instance": "none",
      "service_password": "none",
      "service_user": "monasca",
      "service_tenant": "monasca",
      "service_roles": ["monasca-agent"]
    }
  },
  "deployment": {
    "monasca": {
      "crowbar-revision": 0,
      "crowbar-applied": false,
      "schema-revision": 100,
      "element_states": {
        "monasca-server": [ "readying", "ready", "applying" ],
        "monasca-master": [ "readying", "ready", "applying" ],
        "monasca-metric-agent": [ "readying", "ready", "applying" ],
        "monasca-log-agent": [ "readying", "ready", "applying" ]
      },
      "elements": {},
      "element_order": [
        [ "monasca-server" ],
        [ "monasca-master" ],
        [ "monasca-metric-agent" ],
        [ "monasca-log-agent" ]
      ],
      "element_run_list_order": {
        "monasca-server": 110,
        "monasca-master": 115,
        "monasca-metric-agent": 120,
        "monasca-log-agent": 130
      },
      "config": {
        "environment": "monasca-base-config",
        "mode": "full",
        "transitions": false,
        "transition_list": []
      }
    }
  }
}
